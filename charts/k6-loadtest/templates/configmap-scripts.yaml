apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "k6-loadtest.fullname" . }}-scripts
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "k6-loadtest.labels" . | nindent 4 }}
data:
  # Setup script for creating test data
  setup-test-data.js: |
{{ .Files.Get "scripts/setup-test-data.js" | indent 4 }}

  # API Throughput Test (1,000 RPS)
  api-throughput-test.js: |
{{ .Files.Get "scripts/api-throughput-test.js" | indent 4 }}

  # Order Completion E2E Test (200 orders/sec)
  order-completion-test.js: |
{{ .Files.Get "scripts/order-completion-test.js" | indent 4 }}

  # Stress Test (Find breaking point)
  stress-test.js: |
{{ .Files.Get "scripts/stress-test.js" | indent 4 }}

  # Broker Failure Test
  broker-failure-test.js: |
{{ .Files.Get "scripts/broker-failure-test.js" | indent 4 }}
