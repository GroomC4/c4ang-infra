# =============================================================================
# External Services - Production Environment (AWS)
# =============================================================================
# AWS 리소스를 ExternalName 서비스로 노출하여 서비스 팟과 분리

namespace: ecommerce

# -----------------------------------------------------------------------------
# PostgreSQL Databases (AWS RDS - 도메인별 물리 분리)
# -----------------------------------------------------------------------------
postgresql:
  enabled: true
  databases:
    customer:
      enabled: true
      externalName: "c4-customer-db.cfkm648uqlug.ap-northeast-2.rds.amazonaws.com"
      port: 5432
    product:
      enabled: true
      externalName: "c4-product-db.cfkm648uqlug.ap-northeast-2.rds.amazonaws.com"
      port: 5432
    order:
      enabled: true
      externalName: "c4-order-db.cfkm648uqlug.ap-northeast-2.rds.amazonaws.com"
      port: 5432
    store:
      enabled: true
      externalName: "c4-store-db.cfkm648uqlug.ap-northeast-2.rds.amazonaws.com"
      port: 5432
    saga:
      enabled: true
      externalName: "c4-saga-db.cfkm648uqlug.ap-northeast-2.rds.amazonaws.com"
      port: 5432
    payment:
      enabled: true
      externalName: "c4-payment-db.cfkm648uqlug.ap-northeast-2.rds.amazonaws.com"
      port: 5432

# -----------------------------------------------------------------------------
# Redis Instances (AWS ElastiCache)
# -----------------------------------------------------------------------------
redis:
  enabled: true
  instances:
    cache:
      enabled: true
      externalName: "c4-cache-redis.97pni3.0001.apn2.cache.amazonaws.com"
      port: 6379
    session:
      enabled: true
      externalName: "c4-session-redis.97pni3.0001.apn2.cache.amazonaws.com"
      port: 6379

# -----------------------------------------------------------------------------
# Kafka (AWS MSK)
# -----------------------------------------------------------------------------
kafka:
  enabled: true
  brokers:
    - name: "kafka-broker-1"
      externalName: "b-1.c4kafka.l9hkqg.c2.kafka.ap-northeast-2.amazonaws.com"
      port: 9092
    - name: "kafka-broker-2"
      externalName: "b-2.c4kafka.l9hkqg.c2.kafka.ap-northeast-2.amazonaws.com"
      port: 9092
    - name: "kafka-broker-3"
      externalName: "b-3.c4kafka.l9hkqg.c2.kafka.ap-northeast-2.amazonaws.com"
      port: 9092

# -----------------------------------------------------------------------------
# Schema Registry (EKS 내 배포)
# -----------------------------------------------------------------------------
schemaRegistry:
  enabled: true
  externalName: "schema-registry.kafka.svc.cluster.local"
  port: 8081
